Жизненный цикл компонента
Мы видели, что компоненты React могут быть очень динамичными. Они создаются, обрабатываются, добавляются в DOM, обновляются и удаляются. Все эти шаги являются частью жизненного цикла компонента .
==================================================================
Жизненный цикл компонента состоит из трех частей высокого уровня:

Mounting (Монтирование) , когда компонент инициализируется и впервые помещается в DOM

Updating (Обновление) , когда компонент обновляется в результате изменения состояния или изменения свойств

Unmounting (Размонтирование) , когда компонент удаляется из DOM
======================================================================

Каждый компонент React, с которым вы когда-либо взаимодействовали, выполняет как минимум первый шаг. Если компонент никогда не монтировался, вы бы его никогда не увидели!

Самые интересные компоненты когда-то обновляются . Чисто статический компонент - например, логотип - может никогда не обновиться. Но если состояние компонента изменяется, оно обновляется. Или, если компоненту передаются разные свойства, он обновляется.

Наконец, компонент отключается при удалении из DOM. Например, если у вас есть кнопка, скрывающая компонент, скорее всего, этот компонент будет отключен. Если в вашем приложении несколько экранов, вероятно, что каждый экран (и все его дочерние компоненты) будут отключены. Если компонент «жив» в течение всего времени существования вашего приложения (например, <App />компонент верхнего уровня или постоянная панель навигации), он не будет размонтирован. Но большинство компонентов так или иначе можно размонтировать!

Стоит отметить, что у каждого экземпляра компонента есть свой жизненный цикл. Например, если у вас есть 3 кнопки на странице, то есть 3 экземпляра компонентов, каждый со своим жизненным циклом. Однако, как только экземпляр компонента будет размонтирован, это все - он никогда не будет повторно смонтирован, обновлен или размонтирован.

инструкции
Взгляните на эту полезную справочную диаграмму. Не волнуйтесь - вам не обязательно все это понимать прямо сейчас, - но взгляните.

Какие методы вызываются на этапе монтажа? А как насчет фазы обновления?

Что вызывает обновление?

Опять же, ничего страшного, если вы еще не знаете ответов на эти вопросы. Скоро мы все об этом узнаем!

==============================================

Первым этапом жизненного цикла компонента является этап монтажа . Это когда компонент создается и вставляется в DOM. Методы, которые выполняются на этом этапе, по порядку:

constructor()                  //(componentWillMount())
render()
componentDidMount()

Следующим этапом жизненного цикла компонента является этап обновления . Это когда компонент претерпевает какие-либо изменения в свойствах или состоянии. Этот этап - основная часть жизни компонента, и следующие методы будут вызываться повторно при каждом изменении:

componentWillReceiveProps()
shouldComponentUpdate()
render()
componentDidUpdate()

Последний этап жизненного цикла компонента - размонтирование . Это когда компонент удаляется из модели DOM, и на этом этапе выполняется только один метод.

componentWillUnmount().

=================================================================

Введение в методы жизненного цикла
Компоненты React имеют несколько методов, называемых методами жизненного цикла , которые вызываются в разных частях жизненного цикла компонента. Вот как вы, программист, справляетесь с жизненным циклом компонента.

Возможно, вы этого не знали, но вы уже использовали два наиболее распространенных метода жизненного цикла: constructor()и render()! constructor()- это первый метод, вызываемый на этапе монтажа. render()вызывается позже на этапе монтирования для первого рендеринга компонента, а на этапе обновления для повторного рендеринга компонента.

Обратите внимание, что методы жизненного цикла не обязательно однозначно соответствуют части жизненного цикла. constructor()выполняется только на этапе монтажа, но render()выполняется как на этапе монтажа, так и на этапе обновления.

С этим новым пониманием давайте создадим простой компонент часов.